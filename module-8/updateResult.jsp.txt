<%@ page import="beans.MovieBean" %>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
<title>Update Result</title>

<style>
body { font-family: Arial; background:#f4f4f4; text-align:center; }
table { margin:auto; border-collapse:collapse; }
th, td { padding:10px; border:1px solid black; }
th { background:#2c3e50; color:white; }
</style>

</head>
<body>

<h2>Movie Update Result</h2>

<%
    int id = Integer.parseInt(request.getParameter("id"));
    String title = request.getParameter("title");
    String genre = request.getParameter("genre");
    String director = request.getParameter("director");
    int year = Integer.parseInt(request.getParameter("year"));
    double rating = Double.parseDouble(request.getParameter("rating"));

    MovieBean movie = new MovieBean();
    movie.setId(id);
    movie.setTitle(title);
    movie.setGenre(genre);
    movie.setDirector(director);
    movie.setYear(year);
    movie.setRating(rating);

    boolean success = movie.updateMovie();

    if(success){
%>
        <p style="color:green;">Movie Updated Successfully!</p>

        <table>
            <thead>
                <tr>
                    <th>Movie ID</th>
                    <th>Title</th>
                    <th>Genre</th>
                    <th>Director</th>
                    <th>Year</th>
                    <th>Rating</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><%= movie.getId() %></td>
                    <td><%= movie.getTitle() %></td>
                    <td><%= movie.getGenre() %></td>
                    <td><%= movie.getDirector() %></td>
                    <td><%= movie.getYear() %></td>
                    <td><%= movie.getRating() %></td>
                </tr>
            </tbody>
        </table>

<%
    } else {
%>
        <p style="color:red;">Error updating movie.</p>
<%
    }
%>

<br><br>
<a href="index.jsp">Return to Home</a>

</body>
</html>